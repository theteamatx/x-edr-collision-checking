package(default_visibility = ["//third_party/blue:blue_users"])

proto_library(
    name = "eigen_proto",
    srcs = [
        "eigen.proto",
    ],
    cc_api_version = 2,
)

cc_proto_library(
    name = "eigen_cc_proto",
    deps = [":eigen_proto"],
)

cc_library(
    name = "eigen_proto_utils",
    hdrs = [
        "eigen_proto_utils.h",
    ],
    deps = [
        ":eigen_cc_proto",
        "//experimental/users/buschmann/collision_checking:eigenmath",
        "//experimental/users/buschmann/collision_checking:logging",
    ],
)

proto_library(
    name = "proto",
    srcs = [
        "geometry_shapes.proto",
    ],
    cc_api_version = 2,
    deps = [":eigen_proto"],
)

cc_proto_library(
    name = "cc_proto",
    deps = [":proto"],
)

cc_library(
    name = "utils",
    srcs = [
        "proto_utils.cc",
        "utils_impl.h",
    ],
    hdrs = [
        "proto_utils.h",
        "utils_impl.h",
    ],
    deps = [
        ":cc_proto",
        ":eigen_proto_utils",
        ":geometry_shape",
        ":geometry_shapes",
        "//experimental/users/buschmann/collision_checking:eigenmath",
        "//third_party/absl/status",
        "//third_party/absl/status:statusor",
        "//third_party/absl/strings",
    ],
)

cc_library(
    name = "geometry_shape",
    hdrs = [
        "shape_base.h",
    ],
    deps = [
        "//experimental/users/buschmann/collision_checking:eigenmath",
        "//experimental/users/buschmann/collision_checking:logging",
    ],
)

cc_library(
    name = "geometry_shapes",
    hdrs = [
        "box.h",
        "capsule.h",
        "composite_shape.h",
        "sphere.h",
        "spheres.h",
    ],
    deps = [
        ":geometry_shape",
        "//experimental/users/buschmann/collision_checking:eigenmath",
    ],
)
